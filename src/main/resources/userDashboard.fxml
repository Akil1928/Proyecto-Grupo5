<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane fx:id="mainPane" maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity"
            prefHeight="750.0" prefWidth="1100.0" styleClass="root" xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.UserDashboardController">

    <!-- MENU BAR -->
    <top>
        <MenuBar styleClass="menu-bar">
            <menus>
                <Menu mnemonicParsing="false" text="✈️ Aeropuertos">
                    <items>
                        <MenuItem mnemonicParsing="false" text="🏢 Ver Aeropuertos" onAction="#handleViewAirports" />
                        <MenuItem mnemonicParsing="false" text="🗺️ Mapa de Aeropuertos" onAction="#handleAirportMap" />
                    </items>
                </Menu>
                <Menu mnemonicParsing="false" text="🛫 Vuelos">
                    <items>
                        <MenuItem mnemonicParsing="false" text="🔍 Consultar Vuelos" onAction="#handleViewFlights" />
                        <MenuItem mnemonicParsing="false" text="🎫 Comprar Boletos" onAction="#handleBuyTickets" />
                        <MenuItem mnemonicParsing="false" text="⏰ Horarios" onAction="#handleSchedules" />
                    </items>
                </Menu>
                <Menu mnemonicParsing="false" text="👤 Mi Perfil">
                    <items>
                        <MenuItem mnemonicParsing="false" text="📋 Información Personal" onAction="#handleMyProfile" />
                        <MenuItem mnemonicParsing="false" text="✈️ Mis Vuelos" onAction="#handleMyFlights" />
                        <MenuItem mnemonicParsing="false" text="🎫 Mis Boletos" onAction="#handleMyTickets" />
                    </items>
                </Menu>
                <Menu mnemonicParsing="false" text="🔧 Sistema">
                    <items>
                        <MenuItem mnemonicParsing="false" text="⚙️ Configuración" onAction="#handleSettings" />
                        <MenuItem mnemonicParsing="false" text="🚪 Cerrar Sesión" onAction="#handleLogout" />
                    </items>
                </Menu>
            </menus>
        </MenuBar>
    </top>

    <!-- MAIN CONTENT -->
    <center>
        <VBox spacing="30.0" styleClass="main-content">
            <padding>
                <Insets bottom="30.0" left="40.0" right="40.0" top="30.0" />
            </padding>
            <children>

                <!-- HEADER SECTION -->
                <VBox alignment="CENTER" spacing="10.0" styleClass="header-section">
                    <children>
                        <Label text="🌟 Portal del Usuario" styleClass="main-title">
                            <font>
                                <Font name="System Bold" size="36.0" />
                            </font>
                        </Label>
                        <Separator prefWidth="200.0" styleClass="title-separator" />
                        <Label text="Su plataforma integral para gestión de viajes aéreos" styleClass="subtitle">
                            <font>
                                <Font size="18.0" />
                            </font>
                        </Label>
                        <Label fx:id="welcomeLabel" text="¡Bienvenido de vuelta! Explore nuestros servicios." styleClass="welcome-message">
                            <font>
                                <Font size="16.0" />
                            </font>
                        </Label>
                    </children>
                </VBox>

                <!-- QUICK ACCESS CARDS -->
                <VBox spacing="20.0">
                    <children>
                        <Label text="Acceso Rápido" styleClass="section-header">
                            <font>
                                <Font name="System Bold" size="20.0" />
                            </font>
                        </Label>

                        <GridPane hgap="25.0" vgap="25.0" styleClass="cards-grid">
                            <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                                <ColumnConstraints hgrow="SOMETIMES" minWidth="10.0" prefWidth="100.0" />
                            </columnConstraints>
                            <rowConstraints>
                                <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                                <RowConstraints minHeight="10.0" prefHeight="30.0" vgrow="SOMETIMES" />
                            </rowConstraints>
                            <children>

                                <!-- BUSCAR VUELOS CARD -->
                                <VBox alignment="CENTER" spacing="15.0" styleClass="card" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                    <padding>
                                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                                    </padding>
                                    <children>
                                        <Label text="🔍" styleClass="card-icon">
                                            <font>
                                                <Font size="48.0" />
                                            </font>
                                        </Label>
                                        <Label text="Buscar Vuelos" styleClass="card-title">
                                            <font>
                                                <Font name="System Bold" size="18.0" />
                                            </font>
                                        </Label>
                                        <Label text="Encuentre el vuelo perfecto para su próximo destino" styleClass="card-description" wrapText="true" />
                                        <Button text="Buscar Ahora" styleClass="primary-button" onAction="#handleViewFlights" />
                                    </children>
                                </VBox>

                                <!-- MIS VUELOS CARD -->
                                <VBox alignment="CENTER" spacing="15.0" styleClass="card" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                    <padding>
                                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                                    </padding>
                                    <children>
                                        <Label text="✈️" styleClass="card-icon">
                                            <font>
                                                <Font size="48.0" />
                                            </font>
                                        </Label>
                                        <Label text="Mis Vuelos" styleClass="card-title">
                                            <font>
                                                <Font name="System Bold" size="18.0" />
                                            </font>
                                        </Label>
                                        <Label text="Administre y consulte todos sus vuelos reservados" styleClass="card-description" wrapText="true" />
                                        <Button text="Ver Vuelos" styleClass="secondary-button" onAction="#handleMyFlights" />
                                    </children>
                                </VBox>

                                <!-- COMPRAR BOLETOS CARD -->
                                <VBox alignment="CENTER" spacing="15.0" styleClass="card" GridPane.columnIndex="2" GridPane.rowIndex="0">
                                    <padding>
                                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                                    </padding>
                                    <children>
                                        <Label text="🎫" styleClass="card-icon">
                                            <font>
                                                <Font size="48.0" />
                                            </font>
                                        </Label>
                                        <Label text="Comprar Boletos" styleClass="card-title">
                                            <font>
                                                <Font name="System Bold" size="18.0" />
                                            </font>
                                        </Label>
                                        <Label text="Reserve sus boletos de manera rápida y segura" styleClass="card-description" wrapText="true" />
                                        <Button text="Comprar" styleClass="accent-button" onAction="#handleBuyTickets" />
                                    </children>
                                </VBox>

                                <!-- AEROPUERTOS CARD -->
                                <VBox alignment="CENTER" spacing="15.0" styleClass="card" GridPane.columnIndex="0" GridPane.rowIndex="1">
                                    <padding>
                                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                                    </padding>
                                    <children>
                                        <Label text="🏢" styleClass="card-icon">
                                            <font>
                                                <Font size="48.0" />
                                            </font>
                                        </Label>
                                        <Label text="Aeropuertos" styleClass="card-title">
                                            <font>
                                                <Font name="System Bold" size="18.0" />
                                            </font>
                                        </Label>
                                        <Label text="Explore información detallada de todos los aeropuertos" styleClass="card-description" wrapText="true" />
                                        <Button text="Explorar" styleClass="secondary-button" onAction="#handleViewAirports" />
                                    </children>
                                </VBox>

                                <!-- MI PERFIL CARD -->
                                <VBox alignment="CENTER" spacing="15.0" styleClass="card" GridPane.columnIndex="1" GridPane.rowIndex="1">
                                    <padding>
                                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                                    </padding>
                                    <children>
                                        <Label text="👤" styleClass="card-icon">
                                            <font>
                                                <Font size="48.0" />
                                            </font>
                                        </Label>
                                        <Label text="Mi Perfil" styleClass="card-title">
                                            <font>
                                                <Font name="System Bold" size="18.0" />
                                            </font>
                                        </Label>
                                        <Label text="Actualice su información personal y preferencias" styleClass="card-description" wrapText="true" />
                                        <Button text="Gestionar" styleClass="secondary-button" onAction="#handleMyProfile" />
                                    </children>
                                </VBox>

                                <!-- HORARIOS CARD -->
                                <VBox alignment="CENTER" spacing="15.0" styleClass="card" GridPane.columnIndex="2" GridPane.rowIndex="1">
                                    <padding>
                                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                                    </padding>
                                    <children>
                                        <Label text="⏰" styleClass="card-icon">
                                            <font>
                                                <Font size="48.0" />
                                            </font>
                                        </Label>
                                        <Label text="Horarios" styleClass="card-title">
                                            <font>
                                                <Font name="System Bold" size="18.0" />
                                            </font>
                                        </Label>
                                        <Label text="Consulte horarios actualizados de todos los vuelos" styleClass="card-description" wrapText="true" />
                                        <Button text="Consultar" styleClass="secondary-button" onAction="#handleSchedules" />
                                    </children>
                                </VBox>

                            </children>
                        </GridPane>
                    </children>
                </VBox>

            </children>
        </VBox>
    </center>

    <!-- STATUS BAR -->
    <bottom>
        <HBox alignment="CENTER" spacing="30.0" styleClass="panel">
            <padding>
                <Insets bottom="15.0" left="30.0" right="30.0" top="15.0" />
            </padding>
            <children>
                <Label text="🌐 Estado del Sistema:" styleClass="status-label" />
                <Label text="Conectado" styleClass="status-active" />
                <Separator orientation="VERTICAL" />
                <Label text="🕒 Última actualización:" styleClass="status-label" />
                <Label fx:id="lastUpdateLabel" text="Hace 2 minutos" styleClass="status-secondary" />
                <Separator orientation="VERTICAL" />
                <Label text="📊 Vuelos activos:" styleClass="status-label" />
                <Label fx:id="activeFlightsLabel" text="1,247" styleClass="status-active" />
                <Separator orientation="VERTICAL" />
                <Label text="👥 Usuarios en línea:" styleClass="status-label" />
                <Label fx:id="onlineUsersLabel" text="18,293" styleClass="status-active" />
            </children>
        </HBox>
    </bottom>

</BorderPane>